(this["webpackJsonp@coreui/coreui-free-react-admin-template"]=this["webpackJsonp@coreui/coreui-free-react-admin-template"]||[]).push([[31],{1068:function(e,t,c){"use strict";c.r(t);c(134),c(191),c(192),c(193),c(194),c(195),c(196),c(197),c(135),c(198),c(199),c(85),c(200),c(201),c(202),c(203),c(204),c(205),c(206),c(207),c(208),c(209),c(210),c(211),c(136),c(109);var a=c(1049),s=c(189),r=c(711),n=c.n(r),o=c(84),i=c(712),l=c(702),d=c(1),j=c(66),b=c(59),u=c(710),O=(c(1052),c(946)),h=c(14),m=(Object(O.getStyle)("success"),Object(O.getStyle)("info"),Object(O.getStyle)("danger"),c(188)),x=c(744),p=c(706),g=c.n(p),f=c(28),v=c(1045),N=function(e){var t=Object(d.useState)(!1),c=Object(l.a)(t,2),a=c[0],s=c[1];return Object(d.useEffect)((function(){s(e.payment)}),[]),Object(h.jsxs)(h.Fragment,{children:[Object(h.jsx)("div",{className:"creacion-pedido-progress-bar",children:Object(h.jsxs)(j.O,{children:[Object(h.jsx)(j.j,{sm:"9"}),Object(h.jsx)(j.j,{sm:"3",children:Object(h.jsx)("div",{className:"wrap",children:Object(h.jsxs)("ul",{id:"progressbar",children:[Object(h.jsx)("li",{className:"active",id:"first",children:Object(h.jsx)("strong",{})}),Object(h.jsx)("li",{id:"second",children:Object(h.jsx)("strong",{})}),Object(h.jsx)("li",{id:"third",children:Object(h.jsx)("strong",{})})]})})})]})}),Object(h.jsx)(j.f,{className:"creacion-pedido-card",children:Object(h.jsxs)(j.g,{className:"card-body",children:[Object(h.jsx)(j.O,{children:Object(h.jsx)(j.j,{sm:"5",children:Object(h.jsx)("div",{className:"card-title",children:Object(h.jsx)("h3",{children:"Remitente"})})})}),Object(h.jsx)(j.O,{children:Object(h.jsx)(j.j,{xs:"12",children:Object(h.jsxs)(j.v,{row:!0,children:[Object(h.jsxs)(j.j,{xs:"12",md:"3",children:[Object(h.jsx)(j.H,{htmlFor:"text-input",children:"\xbfQui\xe9n envia?"}),Object(h.jsx)(j.H,{htmlFor:"text-input",style:{color:"#cdde0c"},children:"*"})]}),Object(h.jsx)(j.j,{xs:"12",md:"9",children:Object(h.jsx)(j.B,{value:e.data.remitente,onChange:e.handleChange,className:"card-input",id:"remitente","data-end":"t",placeholder:"",required:!0})})]})})}),Object(h.jsx)(j.O,{children:Object(h.jsx)(j.j,{xs:"12",children:Object(h.jsxs)(j.v,{row:!0,children:[Object(h.jsx)(j.j,{xs:"12",md:"3",children:Object(h.jsx)(j.H,{htmlFor:"text-input",children:"Nombre de empresa"})}),Object(h.jsx)(j.j,{xs:"12",md:"9",children:Object(h.jsx)(j.B,{value:e.data.nombre_empresa_remitente,onChange:e.handleChange,className:"card-input",id:"nombre_empresa_remitente",placeholder:"",required:!0})})]})})}),Object(h.jsx)(j.O,{children:Object(h.jsx)(j.j,{xs:"12",children:Object(h.jsxs)(j.v,{row:!0,children:[Object(h.jsxs)(j.j,{xs:"12",md:"3",children:[Object(h.jsx)(j.H,{htmlFor:"text-input",children:"Tel\xe9fono"}),Object(h.jsx)(j.H,{htmlFor:"text-input",style:{color:"#cdde0c"},children:"*"})]}),Object(h.jsx)(j.j,{xs:"12",md:"9",children:Object(h.jsx)(j.B,{value:e.data.telefono_remitente,onChange:e.handleChange,className:"card-input",id:"telefono_remitente",placeholder:"",required:!0})})]})})}),Object(h.jsx)(j.O,{children:Object(h.jsx)(j.j,{xs:"12",children:Object(h.jsxs)(j.v,{row:!0,children:[Object(h.jsxs)(j.j,{xs:"12",md:"3",children:[Object(h.jsx)(j.H,{htmlFor:"text-input",children:"Correo electr\xf3nico"}),Object(h.jsx)(j.H,{htmlFor:"text-input",style:{color:"#cdde0c"},children:"*"})]}),Object(h.jsx)(j.j,{xs:"12",md:"9",children:Object(h.jsx)(j.B,{value:e.data.correo_remitente,onChange:e.handleChange,className:"card-input",id:"correo_remitente",placeholder:"",required:!0})})]})})}),Object(h.jsx)(j.O,{children:Object(h.jsx)(j.j,{xs:"12",children:Object(h.jsxs)(j.v,{row:!0,children:[Object(h.jsxs)(j.j,{xs:"12",md:"3",children:[Object(h.jsx)(j.H,{htmlFor:"text-input",children:"Poblado/Municipio"}),Object(h.jsx)(j.H,{htmlFor:"text-input",style:{color:"#cdde0c"},children:"*"})]}),Object(h.jsx)(j.j,{xs:"12",md:"9",children:Object(h.jsx)(j.O,{children:Object(h.jsx)(j.j,{sm:"12",children:Object(h.jsx)(v.a,{styles:{border:"0px solid"},className:"card-input",isSearchable:!0,placeholder:"Poblado/Municipio",options:[{value:"Guatemala, Guatemala",label:"Zona 11, Guatemala, Guatemala"},{value:"Guatemala, Guatemala",label:"Zona 12, Guatemala, Guatemala"},{value:"Guatemala, Guatemala",label:"Zona 18, Guatemala, Guatemala"}]})})})})]})})}),Object(h.jsx)(j.O,{children:Object(h.jsx)(j.j,{xs:"12",children:Object(h.jsxs)(j.v,{row:!0,children:[Object(h.jsxs)(j.j,{xs:"12",md:"3",children:[Object(h.jsx)(j.H,{htmlFor:"text-input",children:"Direcci\xf3n"}),Object(h.jsx)(j.H,{htmlFor:"text-input",style:{color:"#cdde0c"},children:"*"})]}),Object(h.jsx)(j.j,{xs:"12",md:"9",children:Object(h.jsx)(j.B,{value:e.data.direccion_remitente,onChange:e.handleChange,className:"card-input",id:"direccion_remitente",placeholder:"",required:!0})})]})})})]})}),Object(h.jsx)("br",{}),Object(h.jsx)(j.f,{className:"creacion-pedido-card",children:Object(h.jsxs)(j.g,{className:"card-body",children:[Object(h.jsx)(j.O,{children:Object(h.jsx)(j.j,{sm:"5",children:Object(h.jsx)("div",{className:"card-title",children:Object(h.jsx)("h3",{children:"Destinatario"})})})}),Object(h.jsx)(j.O,{children:Object(h.jsx)(j.j,{xs:"12",children:Object(h.jsxs)(j.v,{row:!0,children:[Object(h.jsxs)(j.j,{xs:"12",md:"3",children:[Object(h.jsx)(j.H,{htmlFor:"text-input",children:"\xbfQui\xe9n recibe?"}),Object(h.jsx)(j.H,{htmlFor:"text-input",style:{color:"#cdde0c"},children:"*"})]}),Object(h.jsx)(j.j,{xs:"12",md:"9",children:Object(h.jsx)(j.B,{value:e.data.destinatario,onChange:e.handleChange,className:"card-input",id:"destinatario","data-end":"t",placeholder:"",required:!0})})]})})}),Object(h.jsx)(j.O,{children:Object(h.jsx)(j.j,{xs:"12",children:Object(h.jsxs)(j.v,{row:!0,children:[Object(h.jsx)(j.j,{xs:"12",md:"3",children:Object(h.jsx)(j.H,{htmlFor:"text-input",children:"Nombre de contacto"})}),Object(h.jsx)(j.j,{xs:"12",md:"9",children:Object(h.jsx)(j.B,{value:e.data.name_destinatario,onChange:e.handleChange,className:"card-input",id:"name_destinatario",placeholder:"",required:!0})})]})})}),Object(h.jsx)(j.O,{children:Object(h.jsx)(j.j,{xs:"12",children:Object(h.jsxs)(j.v,{row:!0,children:[Object(h.jsxs)(j.j,{xs:"12",md:"3",children:[Object(h.jsx)(j.H,{htmlFor:"text-input",children:"Tel\xe9fono"}),Object(h.jsx)(j.H,{htmlFor:"text-input",style:{color:"#cdde0c"},children:"*"})]}),Object(h.jsx)(j.j,{xs:"12",md:"9",children:Object(h.jsx)(j.B,{value:e.data.telefono_destinatario,onChange:e.handleChange,className:"card-input",id:"telefono_destinatario",placeholder:"",required:!0})})]})})}),Object(h.jsx)(j.O,{children:Object(h.jsx)(j.j,{xs:"12",children:Object(h.jsxs)(j.v,{row:!0,children:[Object(h.jsxs)(j.j,{xs:"12",md:"3",children:[Object(h.jsx)(j.H,{htmlFor:"text-input",children:"Correo electr\xf3nico"}),Object(h.jsx)(j.H,{htmlFor:"text-input",style:{color:"#cdde0c"},children:"*"})]}),Object(h.jsx)(j.j,{xs:"12",md:"9",children:Object(h.jsx)(j.B,{value:e.data.correo_destinatario,onChange:e.handleChange,className:"card-input",id:"correo_destinatario",placeholder:"",required:!0})})]})})}),Object(h.jsx)(j.O,{children:Object(h.jsx)(j.j,{xs:"12",children:Object(h.jsxs)(j.v,{row:!0,children:[Object(h.jsxs)(j.j,{xs:"12",md:"3",children:[Object(h.jsx)(j.H,{htmlFor:"text-input",children:"Departamento/Municipio"}),Object(h.jsx)(j.H,{htmlFor:"text-input",style:{color:"#cdde0c"},children:"*"})]}),Object(h.jsx)(j.j,{xs:"12",md:"9",children:Object(h.jsx)(j.O,{children:Object(h.jsx)(j.j,{sm:"12",children:Object(h.jsx)(v.a,{styles:{border:"0px solid"},className:"card-input",isSearchable:!0,placeholder:"Departamento/Municipio",options:[{value:"Guatemala, Guatemala",label:"Zona 11, Guatemala, Guatemala"},{value:"Guatemala, Guatemala",label:"Zona 12, Guatemala, Guatemala"},{value:"Guatemala, Guatemala",label:"Zona 18, Guatemala, Guatemala"}]})})})})]})})}),Object(h.jsx)(j.O,{children:Object(h.jsx)(j.j,{xs:"12",children:Object(h.jsxs)(j.v,{row:!0,children:[Object(h.jsxs)(j.j,{xs:"12",md:"3",children:[Object(h.jsx)(j.H,{htmlFor:"text-input",children:"Direcci\xf3n"}),Object(h.jsx)(j.H,{htmlFor:"text-input",style:{color:"#cdde0c"},children:"*"})]}),Object(h.jsx)(j.j,{xs:"12",md:"9",children:Object(h.jsx)(j.B,{value:e.data.direccion_destinatario,onChange:e.handleChange,className:"card-input",id:"direccion_destinatario",placeholder:"",required:!0})})]})})}),Object(h.jsx)(j.O,{children:Object(h.jsx)(j.j,{xs:"12",children:Object(h.jsxs)(j.v,{row:!0,children:[Object(h.jsx)(j.j,{xs:"12",md:"3",children:Object(h.jsx)(j.H,{htmlFor:"text-input",children:"Referencias de direcci\xf3n"})}),Object(h.jsx)(j.j,{xs:"12",md:"9",children:Object(h.jsx)("textarea",{rows:"6",value:e.data.referencias_destinatario,onChange:e.handleChange,className:"card-input",id:"referencias_destinatario",placeholder:"",required:!0})})]})})})]})}),Object(h.jsx)("br",{}),Object(h.jsx)("div",{className:"creacion-pedido-button-envio",children:Object(h.jsxs)(j.O,{className:"mb-4",children:[Object(h.jsx)(j.j,{children:Object(h.jsxs)(j.O,{children:[Object(h.jsx)(j.j,{sm:"5",children:Object(h.jsx)("div",{className:"creacion-pedido-button-title",children:Object(h.jsx)("h4",{children:"\xbfQui\xe9n pagar\xe1 el env\xedo:"})})}),Object(h.jsx)(j.j,{sm:"3",children:Object(h.jsx)(j.O,{className:"switch-container",children:Object(h.jsxs)("label",{className:"switch",children:[Object(h.jsx)("input",{type:"checkbox",id:"payment",value:a,checked:a,onChange:function(t){var c=t.target,r=c.id;c.value;"payment"===r&&(a?(s(!1),e.setPayment(!1)):(s(!0),e.setPayment(!0)))}}),Object(h.jsxs)("div",{className:"slider round",children:[Object(h.jsx)("span",{className:"on",children:"Remitente"}),Object(h.jsx)("span",{className:"off",children:"Destinatario"})]})]})})})]})}),Object(h.jsx)(j.j,{sm:"4",children:Object(h.jsxs)(j.O,{className:"buttons-next",children:[Object(h.jsx)("label",{className:"next",children:"Siguiente"}),Object(h.jsx)("button",{type:"button",className:"btn btn-danger btn-circle btn-xl",onClick:function(){e.checkNextStep(1)&&(e.changeStep(1),document.body.scrollTop=document.documentElement.scrollTop=0)},children:Object(h.jsx)(b.a,{style:{color:"white",width:"2rem",height:"2rem",fontSize:"2rem"},name:"cil-arrow-right"})})]})})]})}),Object(h.jsx)("br",{})]})},_=function(e){var t=Object(m.useToasts)().addToast,c=Object(d.useState)("off"),a=Object(l.a)(c,2),s=a[0],r=a[1],O=Object(d.useState)("off"),x=Object(l.a)(O,2),p=x[0],f=x[1],v=Object(d.useState)({value:0,tipo:""}),N=Object(l.a)(v,2),_=N[0],y=N[1],w=Object(d.useState)(0),C=Object(l.a)(w,2),D=C[0],F=C[1],E=Object(d.useState)(null),T=Object(l.a)(E,2),z=T[0],B=T[1],A=Object(d.useState)(null),q=Object(l.a)(A,2),Q=q[0],G=q[1],R=Object(d.useState)(0),P=Object(l.a)(R,2),H=P[0],L=P[1],M=Object(d.useState)(0),I=Object(l.a)(M,2),J=I[0],V=I[1],Z=Object(d.useState)(""),W=Object(l.a)(Z,2),Y=(W[0],W[1]),U=Object(d.useState)(0),$=Object(l.a)(U,2),K=$[0],X=$[1],ee=Object(d.useState)(""),te=Object(l.a)(ee,2),ce=te[0],ae=te[1],se=Object(d.useState)(""),re=Object(l.a)(se,2),ne=re[0],oe=re[1],ie=function(){var c=Object(i.a)(n.a.mark((function c(a){var i,l,d,j,b,u,O,h;return n.a.wrap((function(c){for(;;)switch(c.prev=c.next){case 0:if(i=a.target,l=i.id,d=i.value,"cod"===l&&("on"===p?(f("off"),e.setCod(0),e.setCobro({efectivo:!1,transferencia:!1,contra_entrega:!1}),V(0)):"off"===p&&(f("on"),e.setCobro({efectivo:!1,transferencia:!1,contra_entrega:!0}))),"seguro"===l&&("on"===s?(r("off"),e.setSeguro(0),L(0)):"off"===s&&r("on")),"seguro_input"===l&&(""===d||d<0?(j="",b=""):(j=parseFloat(.02*d),b=parseFloat(d)),e.setSeguro(j),L(b)),"cod_input"===l&&(""===d||d<0?(j="",u=""):(j=parseFloat(.04*d),u=parseFloat(d)),e.setCod(j),V(u)),"cupon_input"!==l){c.next=14;break}if(Y(d),9!==d.trim().length){c.next=14;break}return c.next=11,le(d);case 11:O=c.sent,console.log(O),O.valid?(t("Cupon Aplicado Exitosamente",{appearance:"success",autoDismiss:!0,autoDismissTimeout:4e3}),h=Object(o.a)({},O),y(h),e.setCupon(h)):(t("Cupon invalido",{appearance:"error",autoDismiss:!0,autoDismissTimeout:4e3}),y({value:0,tipo:""}),e.setCupon(O.value));case 14:case"end":return c.stop()}}),c)})));return function(e){return c.apply(this,arguments)}}();Object(d.useEffect)((function(){e.rows_data&&e.rows_data.length>0&&de()}),[e.cod]),Object(d.useEffect)((function(){e.rows_data&&e.rows_data.length>0&&de()}),[e.seguro]);var le=function(){var e=Object(i.a)(n.a.mark((function e(t){var c,a,s;return n.a.wrap((function(e){for(;;)switch(e.prev=e.next){case 0:return c=u.reactLocalStorage.getObject("user"),a=!1,s=0,"TEST01"===t?(a=!0,s=10):(a=!1,s=0),e.next=6,g()({method:"post",url:"https://ws.conectaguate.com/api/v1/site/cupones/validar",headers:{Authorization:"Bearer ".concat(c.token),"Content-Type":"application/json"},data:{codigo:t}}).then((function(e){var t=e.data;return console.log(t),t.cupon?(a=!0,s=parseInt(t.cupon.valor)):("No se encontro el c\xf3digo"===t.Mensaje||"Codigo expirado"===t.Mensaje)&&(a=!1,s=0),{valid:a,value:s,tipo:t.cupon.tipo}}),(function(e){return e.response&&(console.log(e.response),a=!1,s=0),{valid:a,value:s}}));case 6:return e.abrupt("return",e.sent);case 7:case"end":return e.stop()}}),e)})));return function(t){return e.apply(this,arguments)}}();Object(d.useEffect)((function(){var t=0,c=[];console.log("CAMBIO DE DATA",e.rows_data),e.rows_data&&(G([]),e.rows_data.length>0?(e.rows_data.forEach((function(a,s){console.log(a),t+=parseFloat(a.precio),c.push(Object(h.jsx)(S,{rows:e.rows_data,setRows:e.setRowsData,data:a,number:s,tipos_de_transporte:e.tipos_de_transporte},"row-".concat(s)))})),console.log(c),B([].concat(c)),F(t),e.setValorDeclarado(t),de()):(F(0),e.setValorDeclarado(t)))}),[e.rows_data]);var de=function(){var t=Object(i.a)(n.a.mark((function t(){var c;return n.a.wrap((function(t){for(;;)switch(t.prev=t.next){case 0:return t.next=2,e.cotizar();case 2:c=t.sent,console.log(c),c.Costo_envio&&(X(c.Costo_envio.toFixed(2)),e.setCostoDeEnvio(c.Costo_envio.toFixed(2)));case 5:case"end":return t.stop()}}),t)})));return function(){return t.apply(this,arguments)}}();return Object(d.useEffect)((function(){var t=0;0!==e.cod&&""!==e.cod&&(console.log(e.cod),f("on"),V(e.cod/.04),console.log(e.cod)),0!==e.seguro&&""!==e.seguro&&(r("on"),L((e.seguro/.02).toFixed(2))),0!==e.costo_de_envio&&""!==e.costo_de_envio&&(X(e.costo_de_envio),t=e.costo_de_envio,console.log("costo init",t));var c="-";if(0!==e.cupon.value){switch(e.cupon.tipo){case"porcentaje":0!==t&&(c="Q "+(t*(e.cupon.value/100)).toFixed(2).toString());break;case"valorneto":0!==t&&(c="Q "+(-e.cupon.value).toString());break;case"gratis":0!==t&&(c="Q "+t.toString())}y(e.cupon)}oe(c);var a="-";if(0!==e.cupon.value)switch(e.cupon.tipo){case"porcentaje":0!==t&&(a="Q "+(t-t*(e.cupon.value/100)).toFixed(2).toString());break;case"valorneto":0!==t&&(a="Q "+(t-e.cupon.value).toFixed(2).toString());break;case"gratis":0!==t&&(a="Q "+(0).toFixed(2).toString())}""!==e.consto_de_envio_text_cotiza?ae(e.consto_de_envio_text_cotiza):ae(a),e.setCostoDeEnvioTextCotiza(a)}),[]),Object(d.useEffect)((function(){var t="-";if(0!==_.value)switch(_.tipo){case"porcentaje":0!==K&&(t="Q "+(K*(_.value/100)).toFixed(2).toString());break;case"valorneto":0!==K&&(t="Q "+(-_.value).toString());break;case"gratis":0!==K&&(t="Q "+K.toString())}oe(t);var c="-";if(0!==_.value)switch(_.tipo){case"porcentaje":0!==K&&(c="Q "+(K-K*(_.value/100)).toFixed(2).toString());break;case"valorneto":0!==K&&(c="Q "+(K-_.value).toFixed(2).toString());break;case"gratis":0!==K&&(c="Q "+(0).toFixed(2).toString())}ae(c),e.setCostoDeEnvioTextCotiza(c)}),[_]),Object(d.useEffect)((function(){console.log(ce),console.log(_),console.log(e.cupon);var t={value:0,tipo:""};0!==e.cupon.value&&(t=e.cupon);var c="-";if(console.log(t.value),0!==t.value){switch(t.tipo){case"porcentaje":K>0&&(c="Q "+(K-K*(t.value/100)).toFixed(2).toString());break;case"valorneto":K>0&&(c="Q "+(K-t.value).toFixed(2).toString());break;case"gratis":K>0&&(c="Q "+(0).toFixed(2).toString())}console.log(K),console.log(c)}else c="Q "+K.toString();ae(c),e.setCostoDeEnvioTextCotiza(c)}),[K]),Object(d.useEffect)((function(){var e=[];if(z&&z.length>0){for(var t=0;t<z.length;t++)e.push(z[t]);G(e)}}),[z]),null!==J?Object(h.jsxs)(h.Fragment,{children:[Object(h.jsx)("div",{className:"creacion-pedido-progress-bar",children:Object(h.jsxs)(j.O,{children:[Object(h.jsx)(j.j,{sm:"9"}),Object(h.jsx)(j.j,{sm:"3",children:Object(h.jsx)("div",{className:"wrap",children:Object(h.jsxs)("ul",{id:"progressbar",children:[Object(h.jsx)("li",{className:"active",id:"first",children:Object(h.jsx)("strong",{})}),Object(h.jsx)("li",{className:"active",id:"second",children:Object(h.jsx)("strong",{})}),Object(h.jsx)("li",{id:"third",children:Object(h.jsx)("strong",{})})]})})})]})}),Object(h.jsx)(j.f,{className:"creacion-pedido-card",children:Object(h.jsxs)(j.g,{className:"card-body",children:[Object(h.jsx)(j.O,{children:Object(h.jsx)(j.j,{sm:"12",children:Object(h.jsx)("div",{className:"card-title-step2",children:Object(h.jsx)("h3",{children:"Paquetes"})})})}),Array.isArray(Q)&&Q.length>0?Object(h.jsx)("br",{}):null,Q,Array.isArray(Q)&&Q.length>0?Object(h.jsx)("br",{}):null,Object(h.jsx)(k,{rows:e.rows_data,addRow:e.setRowsData,tipos_de_transporte:e.tipos_de_transporte})]})}),Object(h.jsx)(j.f,{className:"creacion-pedido-card",style:{backgroundColor:"#FEFEFE"},children:Object(h.jsxs)(j.g,{className:"card-body",children:[Object(h.jsx)(j.O,{children:Object(h.jsxs)(j.j,{sm:"9",children:[Object(h.jsx)("div",{className:"card-title",children:Object(h.jsxs)(j.O,{children:[Object(h.jsx)("h3",{children:"\xbfEs servicio pago contra entrega (COD)?\xa0\xa0\xa0"}),Object(h.jsxs)("label",{className:"switch",children:[Object(h.jsx)("input",{type:"checkbox",id:"cod",value:p,checked:"on"===p,onChange:ie}),Object(h.jsxs)("div",{className:"slider round",children:[Object(h.jsx)("span",{className:"on",children:"Si"}),Object(h.jsx)("span",{className:"off",children:"No"})]})]})]})}),Object(h.jsx)(j.v,{style:{display:"off"===p?"none":"block"},children:Object(h.jsxs)("div",{className:"input-box",children:[Object(h.jsx)("span",{className:"prefix",children:"Q"}),Object(h.jsx)(j.B,{value:J,onChange:ie,className:"card-input",type:"number",id:"cod_input",placeholder:"monto",style:{backgroundColor:"#F4F5F9"},required:!0})]})}),Object(h.jsx)("div",{className:"card-body-step2",children:"Al elegir servicio COD, su mercader\xeda es cobrada en el destino. El monto se acreditar\xe1 en su cuenta bancaria con un recargo del 4% del valor declarado y ser\xe1 descontado del monto a cobrar."})]})}),Object(h.jsx)(j.O,{className:"creacion-pedido-seguro-section",children:Object(h.jsxs)(j.j,{sm:"9",children:[Object(h.jsx)("div",{className:"card-title",children:Object(h.jsxs)(j.O,{children:[Object(h.jsx)("h3",{children:"\xbfDeseas seguro adicional?\xa0\xa0\xa0"}),Object(h.jsxs)("label",{className:"switch",children:[Object(h.jsx)("input",{type:"checkbox",id:"seguro",value:s,checked:"on"===s,onChange:ie}),Object(h.jsxs)("div",{className:"slider round",children:[Object(h.jsx)("span",{className:"on",children:"Si"}),Object(h.jsx)("span",{className:"off",children:"No"})]})]})]})}),Object(h.jsx)(j.v,{style:{display:"off"===s?"none":"block"},children:Object(h.jsxs)("div",{className:"input-box",children:[Object(h.jsx)("span",{className:"prefix",children:"Q"}),Object(h.jsx)(j.B,{type:"number",onChange:ie,value:H,className:"card-input",id:"seguro_input",placeholder:"monto a asegurar",style:{backgroundColor:"#F4F5F9"},required:!0})]})}),Object(h.jsx)("div",{className:"card-body-step2",children:"Toda la mercader\xeda est\xe1 asegurada por un monto de hasta Q.500.00. Sin embargo puedes optar por asegurarla por un monto mayor con un recargo del 2%."})]})}),Object(h.jsx)("br",{}),Object(h.jsx)(j.O,{className:"ml-2 mr-2",style:{borderBottom:"2px solid #153b75"}}),Object(h.jsx)("br",{}),Object(h.jsxs)(j.O,{children:[Object(h.jsxs)(j.j,{sm:"5",children:[Object(h.jsx)("div",{className:"card-title",children:Object(h.jsx)("h3",{children:"Tengo un cup\xf3n"})}),Object(h.jsx)(j.v,{children:Object(h.jsx)(j.B,{className:"card-input",onChange:ie,id:"cupon_input",placeholder:"a\xf1adir c\xf3digo",style:{backgroundColor:"#F4F5F9"},required:!0})})]}),Object(h.jsxs)(j.j,{sm:"7",className:"card-values-conecta",children:[Object(h.jsxs)(j.O,{children:[Object(h.jsx)(j.j,{sm:"8",children:"Total Valor Declarado"}),Object(h.jsx)(j.j,{sm:"4",children:0===J||""===J?0===D?"-":"Q ".concat(D.toFixed(2)):"Q ".concat(J.toFixed(2))})]}),Object(h.jsxs)(j.O,{className:"card-values-conecta",children:[Object(h.jsx)(j.j,{sm:"8",children:"Seguro Adicional"}),Object(h.jsx)(j.j,{sm:"4",children:0===e.seguro||""===e.seguro?"-":"Q ".concat(e.seguro.toFixed(2))})]}),Object(h.jsxs)(j.O,{className:"card-values-conecta",children:[Object(h.jsx)(j.j,{sm:"8",children:"Aplica Cupon"}),Object(h.jsx)(j.j,{sm:"4",children:ne})]}),Object(h.jsxs)(j.O,{className:"card-values-conecta",children:[Object(h.jsx)(j.j,{sm:"8",children:"Costo de envio"}),Object(h.jsx)(j.j,{sm:"4",children:ce})]}),Object(h.jsxs)(j.O,{className:"card-values-conecta",children:[Object(h.jsx)(j.j,{sm:"8",children:"Fee por COD"}),Object(h.jsx)(j.j,{sm:"4",children:0===e.cod||""===e.cod?"-":"Q ".concat(e.cod.toFixed(2))})]})]})]}),Object(h.jsx)(j.O,{})]})}),Object(h.jsx)("div",{className:"creacion-pedido-button-envio",children:Object(h.jsxs)(j.O,{className:"mb-4",children:[Object(h.jsx)(j.j,{sm:"4",children:Object(h.jsxs)(j.O,{className:"buttons-back",children:[Object(h.jsx)("button",{type:"button",className:"btn btn-danger btn-circle btn-xl",style:{backgroundColor:"#bfc7d8"},onClick:function(){e.changeStep(0)},children:Object(h.jsx)(b.a,{style:{color:"white",width:"2rem",height:"2rem",fontSize:"2rem",transform:"rotate(180deg)"},name:"cil-arrow-right"})}),Object(h.jsx)("label",{className:"back",children:"Anterior"})]})}),Object(h.jsx)(j.j,{sm:"4"}),Object(h.jsx)(j.j,{sm:"4",children:Object(h.jsxs)(j.O,{className:"buttons-next",children:[Object(h.jsx)("label",{className:"next",children:"Siguiente"}),Object(h.jsx)("button",{type:"button",className:"btn btn-danger btn-circle btn-xl",onClick:function(){if(0===e.rows_data.length)return t("Tiene que a\xf1adir un paquete para continuar",{appearance:"error",autoDismiss:!0,autoDismissTimeout:4e3}),!1;e.changeStep(2)},children:Object(h.jsx)(b.a,{style:{color:"white",width:"2rem",height:"2rem",fontSize:"2rem"},name:"cil-arrow-right"})})]})})]})})]}):null},y=function(e){var t=Object(d.useRef)(null),c=Object(d.useState)(0),a=Object(l.a)(c,2),s=(a[0],a[1]),r=(Object(m.useToasts)().addToast,function(t){var c,a=t.target,s=a.id,r=a.value;switch(c="true"!==r&&("false"===r||r),console.log(c),s){case"efectivo-pago":e.setCobro({transferencia:!1,contra_entrega:!1,efectivo:c});break;case"transferencia-pago":e.setCobro({efectivo:!1,contra_entrega:!1,transferencia:c});break;case"contra-entrega-pago":e.setCobro({efectivo:!1,transferencia:!1,contra_entrega:c})}});return Object(d.useEffect)((function(){var t=0;if(e.rows_data)if(e.rows_data.length>0){e.rows_data.forEach((function(e,c){console.log(e),t+=parseFloat(e.precio)}));var c=0,a=0;""!==e.seguro.value&&0!==e.seguro.value&&(c=parseFloat(e.seguro)),""!==e.cupon.value&&0!==e.cupon.value&&(a=parseFloat(e.cupon)),t+=c,s((t-=a).toFixed(2))}else s(0)}),[]),Object(d.useEffect)((function(){console.log(t)}),[t]),Object(h.jsxs)(h.Fragment,{children:[Object(h.jsx)("div",{className:"creacion-pedido-progress-bar",children:Object(h.jsxs)(j.O,{children:[Object(h.jsx)(j.j,{sm:"9"}),Object(h.jsx)(j.j,{sm:"3",children:Object(h.jsx)("div",{className:"wrap",children:Object(h.jsxs)("ul",{id:"progressbar",children:[Object(h.jsx)("li",{className:"active",id:"first",children:Object(h.jsx)("strong",{})}),Object(h.jsx)("li",{className:"active",id:"second",children:Object(h.jsx)("strong",{})}),Object(h.jsx)("li",{className:"active",id:"third",children:Object(h.jsx)("strong",{})})]})})})]})}),Object(h.jsx)(j.f,{className:"creacion-pedido-card creacion-pedido-step3",children:Object(h.jsxs)(j.g,{className:"card-body",children:[Object(h.jsx)(j.O,{children:Object(h.jsx)(j.j,{sm:"5",children:Object(h.jsx)("div",{className:"card-title",children:Object(h.jsx)("h3",{children:"Resumen"})})})}),Object(h.jsx)("br",{}),Object(h.jsxs)(j.O,{className:"data-info-client-header mb-1",children:[Object(h.jsx)(j.j,{sm:"5",children:Object(h.jsxs)(j.O,{children:[Object(h.jsx)("h5",{className:"text-left-number-order-key",children:"No. de Orden: "}),"\xa0 \xa0",Object(h.jsx)("h5",{className:"text-left-number-order-value",children:" 12345678"})]})}),Object(h.jsx)(j.j,{sm:"7",children:Object(h.jsxs)(j.O,{className:"paquetes-number mr-2",children:[Object(h.jsx)("h5",{className:"text-left-number-order-key",children:"No. de paquetes: \xa0 \xa0"}),Object(h.jsx)("h5",{className:"text-left-number-order-value",children:e.rows_data.length})]})})]}),Object(h.jsx)(j.O,{className:"data-info-client mb-4",children:Object(h.jsxs)(j.j,{sm:"12",children:[Object(h.jsxs)(j.O,{children:[Object(h.jsx)("p",{style:{fontWeight:"600"},children:"Envia: \xa0"}),Object(h.jsxs)("p",{style:{fontWeight:"600"},children:[" ",e.data.nombre_empresa_remitente]})]}),Object(h.jsxs)(j.O,{children:[Object(h.jsx)("p",{children:"Contacto: \xa0"}),Object(h.jsx)("p",{children:e.data.remitente})]}),Object(h.jsxs)(j.O,{children:[Object(h.jsx)("p",{children:"Correo Electronico: \xa0"}),Object(h.jsx)("p",{children:e.data.correo_remitente})]}),Object(h.jsxs)(j.O,{children:[Object(h.jsx)("p",{children:"Telefono: \xa0"}),Object(h.jsx)("p",{children:e.data.telefono_remitente})]}),Object(h.jsxs)(j.O,{children:[Object(h.jsx)("p",{children:"Direccion: \xa0"}),Object(h.jsx)("p",{children:e.data.direccion_remitente})]})]})}),Object(h.jsx)(j.O,{className:"data-info-client mb-4",children:Object(h.jsxs)(j.j,{sm:"12",children:[Object(h.jsxs)(j.O,{children:[Object(h.jsx)("p",{style:{fontWeight:"600"},children:"Recibe: \xa0"}),Object(h.jsxs)("p",{style:{fontWeight:"600"},children:[" ",e.data.name_destinatario]})]}),Object(h.jsxs)(j.O,{children:[Object(h.jsx)("p",{children:"Contacto: \xa0"}),Object(h.jsx)("p",{children:e.data.destinatario})]}),Object(h.jsxs)(j.O,{children:[Object(h.jsx)("p",{children:"Correo Electronico: \xa0"}),Object(h.jsx)("p",{children:e.data.correo_destinatario})]}),Object(h.jsxs)(j.O,{children:[Object(h.jsx)("p",{children:"Telefono: \xa0"}),Object(h.jsx)("p",{children:e.data.telefono_destinatario})]}),Object(h.jsxs)(j.O,{children:[Object(h.jsx)("p",{children:"Direccion: \xa0"}),Object(h.jsx)("p",{children:e.data.direccion_destinatario})]})]})}),Object(h.jsx)(j.O,{className:"separate-row mb-4"}),Object(h.jsxs)(j.O,{className:"data-info-client-price mb-4",children:[Object(h.jsx)(j.j,{sm:"12",children:Object(h.jsxs)(j.O,{className:"price-underline",children:[Object(h.jsx)("p",{className:"price-label",children:"Precio del Servicio: \xa0"}),Object(h.jsx)("p",{className:"price",children:e.consto_de_envio_text_cotiza})]})}),Object(h.jsx)(j.j,{sm:"6",children:Object(h.jsx)(j.O,{className:"text-price",children:Object(h.jsxs)("p",{children:["Nuestras entregas en ciudad capital y zonas aleda\xf1as es menos de 5 horas bajo cobertura.",Object(h.jsx)("br",{}),Object(h.jsx)("br",{}),"Las entregas al interior se realizan entre 24 a 72 horas bajo cobertura."]})})})]}),Object(h.jsx)(j.O,{className:"separate-row mb-4"}),Object(h.jsx)(j.O,{className:"mb-3",children:Object(h.jsx)(j.j,{sm:"5",children:Object(h.jsx)("div",{className:"card-title",children:Object(h.jsx)("h3",{children:"Cobro del env\xedo"})})})}),Object(h.jsxs)(j.O,{className:"pills-pago",children:[Object(h.jsx)(j.j,{sm:"3",children:Object(h.jsxs)(j.O,{className:"switch-container",children:[Object(h.jsx)("p",{className:"text-pago",children:"Efectivo al Recolectar"}),Object(h.jsxs)("label",{className:"switch",children:[Object(h.jsx)("input",{type:"checkbox",onChange:r,checked:e.cobro.efectivo,value:e.cobro.efectivo,id:"efectivo-pago"}),Object(h.jsxs)("div",{className:"slider round",children:[Object(h.jsx)("span",{className:"on",children:"Si"}),Object(h.jsx)("span",{className:"off",children:"no"})]})]})]})}),Object(h.jsx)(j.j,{sm:"5",children:Object(h.jsxs)(j.O,{className:"switch-container",children:[Object(h.jsx)("p",{className:"text-pago",children:"Transferencia Bancaria"}),Object(h.jsxs)("label",{className:"switch",children:[Object(h.jsx)("input",{type:"checkbox",onChange:r,checked:e.cobro.transferencia,value:e.cobro.transferencia,id:"transferencia-pago"}),Object(h.jsxs)("div",{className:"slider round",children:[Object(h.jsx)("span",{className:"on",children:"Si"}),Object(h.jsx)("span",{className:"off",children:"no"})]})]})]})}),Object(h.jsx)(j.j,{sm:"4",children:Object(h.jsxs)(j.O,{className:"switch-container",children:[Object(h.jsx)("p",{className:"text-pago",children:"Pago contra entrega"}),Object(h.jsxs)("label",{className:"switch",children:[Object(h.jsx)("input",{type:"checkbox",onChange:r,checked:e.cobro.contra_entrega,value:e.cobro.contra_entrega,id:"contra-entrega-pago"}),Object(h.jsxs)("div",{className:"slider round",children:[Object(h.jsx)("span",{className:"on",children:"Si"}),Object(h.jsx)("span",{className:"off",children:"no"})]})]})]})})]}),Object(h.jsxs)(j.O,{className:"data-info-client-conecta mb-4",style:{display:e.cobro.transferencia?"flex":"none"},children:[Object(h.jsxs)(j.j,{sm:"6",className:"mt-5",children:[Object(h.jsx)(j.O,{children:Object(h.jsx)("p",{className:"info",children:"No. de cuenta: \xa0"})}),Object(h.jsx)(j.O,{children:Object(h.jsx)("p",{className:"info",children:"903411890"})}),Object(h.jsx)(j.O,{children:Object(h.jsx)("p",{className:"info",children:"BAC - Monetaria"})}),Object(h.jsx)(j.O,{children:Object(h.jsx)("p",{className:"info",children:"AIM Digital de Guatemala S.A."})})]}),Object(h.jsx)(j.j,{sm:"6",className:"mt-5 pt-4 button-vaucher",children:Object(h.jsxs)(j.O,{children:[Object(h.jsx)(j.j,{sm:"3",className:"mb-3"}),Object(h.jsxs)(j.j,{sm:"6",xl:!0,className:"mb-3",children:[Object(h.jsxs)(j.O,{children:[" ",Object(h.jsx)(j.e,{block:!0,color:"secondary",style:{fontSize:"1.2rem"},onClick:function(){t.current.click()},children:"Subir voucher"})," "]}),Object(h.jsx)(j.O,{style:{display:"block",marginLeft:"auto",marginRight:"auto",textAlign:"center"},children:null!==t&&null!==t.current&&void 0!==t.current.files&&void 0!==t.current.files[0]?t.current.files[0].name:""})]}),Object(h.jsx)("input",{onChange:function(t){var c=t.target.files;if(c.length){var a=new FormData;console.log(c[0]),a.append("img",c[0]),e.setFiles(a)}},type:"file",id:"file",ref:t,style:{display:"none"}}),Object(h.jsx)(j.j,{sm:"3",className:"mb-3"})]})})]})]})}),Object(h.jsx)("div",{className:"creacion-pedido-button-envio",children:Object(h.jsxs)(j.O,{className:"mb-4",children:[Object(h.jsx)(j.j,{sm:"4",children:Object(h.jsxs)(j.O,{className:"buttons-back",children:[Object(h.jsx)("button",{type:"button",className:"btn btn-danger btn-circle btn-xl",style:{backgroundColor:"#bfc7d8"},onClick:function(){e.changeStep(1)},children:Object(h.jsx)(b.a,{style:{color:"white",width:"2rem",height:"2rem",fontSize:"2rem",transform:"rotate(180deg)"},name:"cil-arrow-right"})}),Object(h.jsx)("label",{className:"back",children:"Anterior"})]})}),Object(h.jsx)(j.j,{sm:"4"}),Object(h.jsx)(j.j,{sm:"4",children:Object(h.jsxs)(j.O,{className:"buttons-next",children:[Object(h.jsx)("label",{className:"next",style:{fontSize:"1.3rem"},children:"Finalizar Orden"}),Object(h.jsx)("button",{type:"button",className:"btn btn-danger btn-circle btn-xl",onClick:e.createOrder,children:Object(h.jsx)(b.a,{style:{color:"white",width:"2rem",height:"2rem",fontSize:"2rem"},name:"cil-arrow-right"})})]})})]})})]})},w=function(e){Object(d.useRef)(null);var t=Object(d.useState)(0),c=Object(l.a)(t,2),a=(c[0],c[1]),s=Object(d.useState)(""),r=Object(l.a)(s,2),n=r[0],o=r[1],i=Object(m.useToasts)().addToast,b=Object(f.g)();return Object(d.useEffect)((function(){var t=0;e.rows_data&&(e.rows_data.length>0?(e.rows_data.forEach((function(e,c){console.log(e),t+=parseFloat(e.precio)})),a(t)):a(0));var c=window.location,s=c.protocol+"//"+c.host+"/"+c.pathname.split("/")[1],r="".concat(s,"#/tracking/").concat(e.pedido);o(r)}),[]),Object(d.useEffect)((function(){var t=u.reactLocalStorage.getObject("user");if("undefined"===t||void 0===t||null===t||0===Object.keys(t).length)return u.reactLocalStorage.remove("user"),b.push("/login"),!1;console.log(t.token),g()({method:"post",url:"https://ws.conectaguate.com/api/v1/site/pedido/img/add/".concat(e.pedido_id),headers:{Authorization:"Bearer ".concat(t.token)},data:e.files}).then((function(e){console.log(e)}),(function(e){i("Intente mas tarde",{appearance:"error",autoDismiss:!0,autoDismissTimeout:4e3}),console.log(e)}))}),[]),Object(h.jsx)(h.Fragment,{children:Object(h.jsxs)(j.l,{className:"creacion-pedido-step4",children:[Object(h.jsx)(j.O,{className:"title-container",children:Object(h.jsx)("h3",{className:"title",children:"Orden Finalizada"})}),Object(h.jsx)(j.O,{className:"subtitle-container",children:"Favor descarga esta gu\xeda y pegala en tu paquete"}),Object(h.jsx)("br",{}),Object(h.jsx)(j.O,{className:"subtitle-container",children:Object(h.jsx)(j.e,{block:!0,color:"primary",children:" Descargar gu\xeda "})}),Object(h.jsx)("br",{}),Object(h.jsx)(j.O,{className:"subtitle-container-info",children:"Puedes compartir el siguiente tracking con tu cliente para manterle informado del estado de su pedido."}),Object(h.jsx)("br",{}),Object(h.jsx)(j.O,{className:"link-pedido",children:Object(h.jsx)("a",{href:n,target:"_blank",children:e.pedido})}),Object(h.jsx)("br",{}),Object(h.jsxs)(j.O,{className:"recomendaciones-container",children:[Object(h.jsxs)(j.j,{sm:"6",children:[Object(h.jsx)("p",{className:"title",children:"Recomendaciones de embalaje"}),Object(h.jsxs)("ul",{children:[Object(h.jsx)("li",{children:"Recuerda embalar bien tus productos de preferencia sellados dentro de una caja."}),Object(h.jsx)("li",{children:"Si es fr\xe1gil, a\xf1adele una etiqueta y rellenalo con duroport, esponja o cart\xf3n a manera de proteger tu producto."}),Object(h.jsx)("li",{children:"Si env\xedas galones, botellas o frascos, deber\xe1s embalarlos dentro de una caja de preferencia envueltos en pl\xe1stico."})]})]}),Object(h.jsx)(j.j,{sm:"6",children:Object(h.jsx)(j.A,{src:"img/hero/embalaje.png",className:"d-inline-block img-fluid embalaje-hero",alt:"embalaje conecta"})})]}),Object(h.jsx)("br",{}),Object(h.jsx)(j.O,{className:"button-again",children:Object(h.jsx)(j.e,{block:!0,style:{backgroundColor:"#e9f114",color:"#153b75"},onClick:function(){e.changeStep(0)},children:"Realizar m\xe1s env\xedos"})}),Object(h.jsx)("br",{})]})})},S=function(e){var t=Object(d.useState)(e.data),c=Object(l.a)(t,2),s=c[0],r=(c[1],Object(d.useState)(1)),n=Object(l.a)(r,2),o=n[0],i=n[1],u=Object(d.useState)(!1),O=Object(l.a)(u,2);O[0],O[1];return Object(h.jsx)(h.Fragment,{children:Object(h.jsxs)(j.f,{className:"mb-0",children:[Object(h.jsx)(j.i,{id:"headingOne",children:Object(h.jsx)(j.e,{block:!0,className:"text-left m-0 p-0",onClick:function(){return i(0===o?null:0)},style:{color:"#153b75",fontWeight:"600"},children:Object(h.jsxs)("h5",{className:"m-0 p-0",style:{color:"#153b75",fontWeight:"600"},children:["Paquete # ",e.number+1]})})}),Object(h.jsx)(j.g,{style:{display:0===o?"block":"none",paddingTop:"0"},children:Object(h.jsx)(j.k,{show:0===o,children:Object(h.jsxs)(j.O,{className:"row-package",children:[Object(h.jsxs)(j.j,{sm:"3",children:[Object(h.jsx)(j.O,{children:Object(h.jsx)("div",{className:"card-title-column",children:"Descripci\xf3n"})}),Object(h.jsx)(j.O,{children:Object(h.jsx)(j.B,{type:"text",id:"paquete",className:"card-input",disabled:!0,value:s.paquete,placeholder:"",style:{background:"white",border:"0px"}})})]}),Object(h.jsxs)(j.j,{sm:"2",children:[Object(h.jsx)(j.O,{children:Object(h.jsxs)("div",{className:"card-title-column",children:["Tipo de transporte",Object(h.jsx)("div",{className:"asterisk",children:"\xa0*"})]})}),Object(h.jsx)(j.O,{children:Object(h.jsx)(j.B,{type:"text",id:"transporte",className:"card-input",disabled:!0,value:e.tipos_de_transporte[s.transporte].nombre,placeholder:"",style:{background:"white",border:"0px"}})})]}),Object(h.jsxs)(j.j,{sm:"2",children:[Object(h.jsx)(j.O,{children:Object(h.jsxs)("div",{className:"card-title-column",children:["Peso",Object(h.jsx)("div",{className:"asterisk",children:"\xa0*"})]})}),Object(h.jsx)(j.O,{children:Object(h.jsx)(j.B,{min:"0",type:"number",id:"peso",className:"card-input",disabled:!0,value:s.peso,placeholder:"",style:{background:"white",border:"0px"}})})]}),Object(h.jsxs)(j.j,{sm:"2",children:[Object(h.jsx)(j.O,{children:Object(h.jsxs)("div",{className:"card-title-column",children:["Valor declarado",Object(h.jsx)("div",{className:"asterisk",children:"\xa0*"})]})}),Object(h.jsx)(j.O,{children:Object(h.jsx)(j.B,{min:"0",type:"number",id:"precio",className:"card-input",disabled:!0,value:s.precio,placeholder:"",style:{background:"white",border:"0px"}})})]}),Object(h.jsxs)(j.j,{sm:"2",children:[Object(h.jsx)(j.O,{children:Object(h.jsxs)("div",{className:"card-title-column",children:["Fragil",Object(h.jsx)("div",{className:"asterisk",children:"\xa0*"})]})}),Object(h.jsx)(j.O,{className:"slider-fragil",children:Object(h.jsx)(j.Y,{className:"mx-1",variant:"3d",color:"success",id:"fragil",checked:"on"===s.fragil,value:s.fragil,disabled:!0})})]}),Object(h.jsxs)(j.j,{sm:"1",children:[Object(h.jsx)(j.O,{children:Object(h.jsx)("div",{className:"card-title-column",children:"\xa0"})}),Object(h.jsx)(j.O,{className:"slider-fragil",onClick:function(){!function(t){console.log(t);for(var c=Object(a.a)(e.rows),s=0;s<c.length;s++)t===c[s].id&&(c.splice(s,1),s--);console.log(c),e.setRows(c)}(e.data.id)},style:{cursor:"pointer",width:"fit-content"},children:Object(h.jsx)(b.a,{style:{color:"red",width:"1.5rem",height:"1.5rem",fontSize:"1.5rem",cursor:"pointer"},name:"cil-x-circle"})})]})]})})})]})})},k=function(e){var t=Object(m.useToasts)().addToast,c=Object(d.useState)(!1),r=Object(l.a)(c,2),n=r[0],i=r[1],b=Object(d.useState)({paquete:"",transporte:"",peso:"",precio:"",fragil:"off",id:""}),u=Object(l.a)(b,2),O=u[0],p=u[1],g=function(e){var t=e.target,c=t.id,a=t.value;if(a<0)return!1;var r=JSON.parse(JSON.stringify(O)),n=Object(o.a)(Object(o.a)({},r),{},Object(s.a)({},c,a));p(n)};return console.log("tipos",e.tipos_de_transporte),Object(h.jsxs)(h.Fragment,{children:[Object(h.jsxs)(j.O,{className:"row-package",children:[Object(h.jsxs)(j.j,{sm:"3",children:[Object(h.jsx)(j.O,{children:Object(h.jsx)("div",{className:"card-title-column",children:"Descripci\xf3n"})}),Object(h.jsx)(j.O,{children:Object(h.jsx)(j.B,{type:"text",id:"paquete",className:"card-input",onChange:g,value:O.paquete,placeholder:"Un paquete con",style:{background:"white",border:"0px"}})})]}),Object(h.jsxs)(j.j,{sm:"2",children:[Object(h.jsx)(j.O,{children:Object(h.jsxs)("div",{className:"card-title-column",children:["Tipo de transporte",Object(h.jsx)("div",{className:"asterisk",children:"\xa0*"})]})}),Object(h.jsx)(j.O,{children:Object(h.jsxs)("select",{id:"transporte",className:"card-input",onChange:g,value:O.transporte,placeholder:"",style:{background:"white",border:"0px",color:"#768192"},children:[Object(h.jsx)("option",{value:"",children:"Tipo"}),Object.entries(e.tipos_de_transporte).map((function(e,t){return Object(h.jsx)("option",{value:e[1].id,children:e[1].nombre},"".concat(e[1].id,"-").concat(t))}))]})})]}),Object(h.jsxs)(j.j,{sm:"2",children:[Object(h.jsx)(j.O,{children:Object(h.jsxs)("div",{className:"card-title-column",children:["Peso",Object(h.jsx)("div",{className:"asterisk",children:"\xa0*"})]})}),Object(h.jsx)(j.O,{children:Object(h.jsxs)("div",{className:"input-box",children:[Object(h.jsx)(j.B,{type:"number",id:"peso",className:"card-input",onChange:g,value:O.peso,placeholder:"",style:{background:"white",border:"0px"},min:"0"}),Object(h.jsx)("span",{className:"prefix",children:"Lbs"})]})})]}),Object(h.jsxs)(j.j,{sm:"2",children:[Object(h.jsx)(j.O,{children:Object(h.jsxs)("div",{className:"card-title-column",children:["Valor declarado",Object(h.jsx)("div",{className:"asterisk",children:"\xa0*"})]})}),Object(h.jsx)(j.O,{children:Object(h.jsxs)("div",{className:"input-box",children:[Object(h.jsx)("span",{className:"prefix",children:"Q"}),Object(h.jsx)(j.B,{type:"number",id:"precio",className:"card-input",onChange:g,value:O.precio,placeholder:"",style:{background:"white",border:"0px"}})]})})]}),Object(h.jsxs)(j.j,{sm:"2",children:[Object(h.jsx)(j.O,{children:Object(h.jsxs)("div",{className:"card-title-column",children:["Fragil",Object(h.jsx)("div",{className:"asterisk",children:"\xa0*"})]})}),Object(h.jsx)(j.O,{children:Object(h.jsx)(j.Y,{onChange:function(){var e;n?(e=!1,i(!1)):(e=!0,i(!0));var t=JSON.parse(JSON.stringify(O)),c=Object(o.a)(Object(o.a)({},t),{},{fragil:e?"on":"off"});p(c)},className:"mx-1",variant:"3d",color:"success",id:"fragil",checked:n})})]}),Object(h.jsxs)(j.j,{sm:"1",children:[Object(h.jsx)(j.O,{children:Object(h.jsx)("div",{className:"card-title-column",children:"\xa0"})}),Object(h.jsx)(j.O,{})]})]}),Object(h.jsxs)(j.O,{className:"mt-3",children:[Object(h.jsx)(j.j,{col:"9",sm:"9",md:"9"}),Object(h.jsx)(j.j,{col:"3",sm:"3",md:"3",children:Object(h.jsx)(j.j,{xl:!0,className:"mb-3 mb-xl-0",children:Object(h.jsx)(j.e,{block:!0,shape:"pill",className:"",style:{backgroundColor:"#4F6CBC",border:"1px solid #4F6CBC",color:"white"},onClick:function(){for(var c=Object(a.a)(e.rows),s={paquete:"Paquete",transporte:"Transporte",peso:"Peso",precio:"Precio",id:"id"},r=!1,n=0,o=Object.entries(O);n<o.length;n++){var d=Object(l.a)(o[n],2),j=d[0];0===d[1].length&&"id"!==j&&(t("El campo ".concat(s[j]," es requerido"),{appearance:"error",autoDismiss:!0,autoDismissTimeout:4e3}),r=!0)}if(r)return!1;if(parseInt(O.peso)>25&&"Moto"===O.transporte&&t("El tipo de transporte elegido no es ideal para \n                      transportar su producto, puede tener alg\xfan recargo \n                      o problema al momento de la recolecta",{appearance:"warning",autoDismiss:!0,autoDismissTimeout:4e3}),r)return!1;var b=JSON.parse(JSON.stringify(O)),u=Object(x.v4)();b.id=u,c.push(b),e.addRow(c),console.log(c),p({paquete:"",transporte:"",peso:"",precio:"",fragil:"off",id:""}),i(!1)},children:"agregar paquete"})})})]})]})};t.default=function(){var e=Object(f.g)(),t=Object(m.useToasts)().addToast,c=Object(d.useState)(0),a=Object(l.a)(c,2),r=a[0],j=a[1],b=Object(d.useState)([]),O=Object(l.a)(b,2),x=O[0],p=O[1],v=Object(d.useState)({remitente:"",nombre_empresa_remitente:"",telefono_remitente:"",correo_remitente:"",municipio_remitente:"test",direccion_remitente:"",destinatario:"",name_destinatario:"",telefono_destinatario:"",correo_destinatario:"",municipio_destinatario:"test",direccion_destinatario:"",referencias_destinatario:""}),S=Object(l.a)(v,2),k=S[0],C=S[1],D=Object(d.useState)({}),F=Object(l.a)(D,2),E=F[0],T=F[1],z=Object(d.useState)(0),B=Object(l.a)(z,2),A=B[0],q=B[1],Q=Object(d.useState)({value:0,tipo:""}),G=Object(l.a)(Q,2),R=G[0],P=G[1],H=Object(d.useState)(0),L=Object(l.a)(H,2),M=L[0],I=L[1],J=Object(d.useState)(0),V=Object(l.a)(J,2),Z=V[0],W=V[1],Y=Object(d.useState)(""),U=Object(l.a)(Y,2),$=U[0],K=U[1],X=Object(d.useState)(0),ee=Object(l.a)(X,2),te=ee[0],ce=ee[1],ae=Object(d.useState)({efectivo:!1,transferencia:!1,contra_entrega:!1}),se=Object(l.a)(ae,2),re=se[0],ne=se[1],oe=Object(d.useState)(!1),ie=Object(l.a)(oe,2),le=ie[0],de=ie[1],je=Object(d.useState)(""),be=Object(l.a)(je,2),ue=be[0],Oe=be[1],he=Object(d.useState)(""),me=Object(l.a)(he,2),xe=me[0],pe=me[1],ge=Object(d.useState)([]),fe=Object(l.a)(ge,2),ve=(fe[0],fe[1]),Ne=Object(d.useState)([]),_e=Object(l.a)(Ne,2),ye=(_e[0],_e[1]),we=Object(d.useState)([]),Se=Object(l.a)(we,2),ke=Se[0],Ce=Se[1],De=Object(d.useState)({}),Fe=Object(l.a)(De,2),Ee=Fe[0],Te=Fe[1],ze=Object(d.useState)([]),Be=Object(l.a)(ze,2),Ae=Be[0],qe=Be[1],Qe=Object(d.useState)([]),Ge=Object(l.a)(Qe,2),Re=Ge[0],Pe=Ge[1],He=Object(d.useState)("Guatemala"),Le=Object(l.a)(He,2),Me=Le[0],Ie=Le[1],Je=Object(d.useState)("Guatemala"),Ve=Object(l.a)(Je,2),Ze=Ve[0],We=Ve[1];Object(d.useEffect)((function(){var t=u.reactLocalStorage.getObject("user");if("undefined"===t||void 0===t||null===t||0===Object.keys(t).length)return u.reactLocalStorage.remove("user"),T({}),e.push("/login"),!1;var c="https://ws.conectaguate.com/api",a=new Promise((function(e,a){return g()({method:"get",url:c+"/v1/site/transportes",headers:{Authorization:"Bearer ".concat(t.token)}}).then((function(t){return e({key:"transportes",data:t.data.Data},"transportes")}))})),s=new Promise((function(e,a){return g()({method:"get",url:c+"/v1/site/estatus",headers:{Authorization:"Bearer ".concat(t.token)}}).then((function(t){return e({key:"estatus",data:t.data.Data},"estatus")}))})),r=new Promise((function(e,a){return g()({method:"get",url:c+"/v1/site/tipopago",headers:{Authorization:"Bearer ".concat(t.token)}}).then((function(t){return e({key:"tipos_de_pago",data:t.data.Data},"tipos_de_pago")}))}));Promise.all([a,s,r]).then((function(e){e.forEach((function(e){var t={};switch(e.key){case"transportes":e.data.forEach((function(e){t[e.id]=e})),Ce(t);break;case"estatus":e.data.forEach((function(e){t[e.id]=e})),ye(t);break;case"tipos_de_pago":e.data.forEach((function(e){t[e.id]=e})),ve(t)}})),console.log(e)}))}),[]);var Ye=function(){var c=Object(i.a)(n.a.mark((function c(){var a,s,r,i,l;return n.a.wrap((function(c){for(;;)switch(c.prev=c.next){case 0:if(a={},{Moto:1,Panel:2},re.contra_entrega?s=1:re.efectivo?s=3:re.transferencia&&(s=2),a.pedido={tipo_destino:1,direccion_origen:k.direccion_remitente,nombre_origen:k.remitente,telefono_origen:k.telefono_remitente,departamento_origen:1,municipio_origen:1,direccion_destino:k.direccion_destinatario,nombre_destino:k.name_destinatario,telefono_destino:k.telefono_destinatario,departamento_destino:1,municipio_destino:1,transporte:parseInt(x[0].transporte),tipo_envio:1,tipo_pago:s,COD:0!==M,seguro:A,costo_envio:Z,total:te},r=[],x.forEach((function(e){r.push({id_transporte:parseInt(e.transporte),valor:parseInt(e.precio),fragil:"off"!==e.fragil})})),a.detalle=r,console.log("ODER CREAR",a),re.contra_entrega||re.efectivo||re.transferencia){c.next=11;break}return t("Debes seleccionar un metodo de pago",{appearance:"warning",autoDismiss:!0,autoDismissTimeout:4e3}),c.abrupt("return",!1);case 11:return i=u.reactLocalStorage.getObject("user"),l="","undefined"===i||void 0===i||null===i||0===Object.keys(i).length?(u.reactLocalStorage.remove("user"),e.push("/login")):l="Bearer ".concat(i.token),c.next=16,g()({method:"post",url:"https://ws.conectaguate.com/api/v1/site/pedido/crear",headers:{Authorization:l,"Content-Type":"application/json"},data:a}).then((function(e){var c=e.data;console.log(c),t("Se guardo el pedido correctamente",{appearance:"success",autoDismiss:!0,autoDismissTimeout:4e3}),Oe(c.Data.guia),pe(c.Data.id),C(Object(o.a)(Object(o.a)({},c),{},{destinatario:"",name_destinatario:"",telefono_destinatario:"",correo_destinatario:"",municipio_destinatario:"",direccion_destinatario:"",referencias_destinatario:""})),q(0),P({value:0,tipo:""}),I(0),W(0),ce(0),p([]),j(4),Te({})}),(function(e){t("Intente mas tarde",{appearance:"error",autoDismiss:!0,autoDismissTimeout:4e3}),console.log(e.message)}));case 16:return c.abrupt("return",!1);case 17:case"end":return c.stop()}}),c)})));return function(){return c.apply(this,arguments)}}(),Ue=function(){var t=Object(i.a)(n.a.mark((function t(){var c,a,s,r;return n.a.wrap((function(t){for(;;)switch(t.prev=t.next){case 0:return c={},re.contra_entrega?1:re.efectivo?2:re.transferencia&&3,c.pedido={tipo_destino:1,direccion_origen:k.direccion_remitente,nombre_origen:k.remitente,telefono_origen:k.telefono_remitente,departamento_origen:1,municipio_origen:1,direccion_destino:k.direccion_destinatario,nombre_destino:k.name_destinatario,telefono_destino:k.telefono_destinatario,departamento_destino:1,municipio_destino:1,transporte:parseInt(x[0].transporte),tipo_envio:1,tipo_pago:0,COD:0!==M,seguro:A,costo_envio:te,total:te},a=[],x.forEach((function(e){a.push({id_transporte:parseInt(e.transporte),valor:parseInt(e.precio),fragil:"off"!==e.fragil,peso:e.peso})})),c.detalle=a,console.log("Order cotizar",c),s=u.reactLocalStorage.getObject("user"),r="","undefined"===s||void 0===s||null===s||0===Object.keys(s).length?(u.reactLocalStorage.remove("user"),e.push("/login")):r="Bearer ".concat(s.token),t.next=12,g()({method:"post",url:"https://ws.conectaguate.com/api/v1/site/pedido/cotizacion",headers:{Authorization:r,"Content-Type":"application/json"},data:c}).then((function(e){var t=e.data;return console.log("data cotizar",t),t}));case 12:return t.abrupt("return",t.sent);case 13:case"end":return t.stop()}}),t)})));return function(){return t.apply(this,arguments)}}();Object(d.useEffect)((function(){var c=u.reactLocalStorage.getObject("user"),a="";console.log(c),"undefined"===c||void 0===c||null===c||0===Object.keys(c).length?(u.reactLocalStorage.remove("user"),e.push("/login")):a="Bearer ".concat(c.token);var s={headers:{Authorization:a}};g.a.get("https://ws.conectaguate.com/api/v1/site/usuario/information",s).then((function(c){var a=c.data.usuario;if(null===a)return t("Debes llenar tu informaci\xf3n antes de crear un pedido",{appearance:"warning",autoDismiss:!0,autoDismissTimeout:4e3}),e.push("/cuenta/perfil"),!1;C(Object(o.a)(Object(o.a)({},k),{},{remitente:a.nombre+" "+a.apellido,nombre_empresa_remitente:a.empresa,telefono_remitente:a.phone,correo_remitente:a.email,municipio_remitente:a.municipio,direccion_remitente:a.direccion_recoleccion}))})),g()({method:"get",url:"https://ws.conectaguate.com/api/v1/site/departamentos",headers:{Authorization:a}}).then((function(e){var t=e.data.Data;console.log(t),qe(t)}),(function(e){return console.log(e),qe([]),!1})),g()({method:"get",url:"https://ws.conectaguate.com/api/v1/site/departamentos/1",headers:{Authorization:a}}).then((function(e){var t=e.data.Data;console.log(t),Pe(t.municipios)}),(function(e){return console.log(e),!1}))}),[]),Object(d.useEffect)((function(){var t=u.reactLocalStorage.getObject("user");if(console.log(t),"undefined"===t||void 0===t||null===t||0===Object.keys(t).length)u.reactLocalStorage.remove("user"),T({}),e.push("/login");else if("name"in t)T(Object(o.a)({},t));else try{g.a.get("https://ws.conectaguate.com/api/auth/user",{headers:{Authorization:"Bearer ".concat(t.token)}}).then((function(e){T(Object(o.a)(Object(o.a)({},t),{},{name:e.data.name})),u.reactLocalStorage.setObject("user",Object(o.a)(Object(o.a)({},t),{},{name:e.data.name})),console.log("data user",e)}),(function(e){e.response&&console.log(e.response)}))}catch(c){return console.log(c.message),!1}}),[]),Object(d.useEffect)((function(){var t=u.reactLocalStorage.getObject("user");if("undefined"===t||void 0===t||null===t||0===Object.keys(t).length)return u.reactLocalStorage.remove("user"),T({}),e.push("/login"),!1;"Bearer ".concat(t.token);var c="https://ws.conectaguate.com/api",a=new Promise((function(e,a){return g()({method:"get",url:c+"/v1/site/transportes",headers:{Authorization:"Bearer ".concat(t.token)}}).then((function(t){return e({key:"transportes",data:t.data.Data},"transportes")}))})),s=new Promise((function(e,a){return g()({method:"get",url:c+"/v1/site/estatus",headers:{Authorization:"Bearer ".concat(t.token)}}).then((function(t){return e({key:"estatus",data:t.data.Data},"estatus")}))})),r=new Promise((function(e,a){return g()({method:"get",url:c+"/v1/site/tipopago",headers:{Authorization:"Bearer ".concat(t.token)}}).then((function(t){return e({key:"tipos_de_pago",data:t.data.Data},"tipos_de_pago")}))}));Promise.all([a,s,r]).then((function(e){console.log(e)}))}),[]),Object(d.useEffect)((function(){if(E&&"test010@gmail.com"===E.email){C(Object(o.a)(Object(o.a)({},k),{correo_remitente:"chinocum@gmail.com",direccion_remitente:"2 calle 38-61 zona 11",municipio_remitente:"Guatemala",nombre_empresa_remitente:"Test",remitente:"Diego Cum",telefono_remitente:"12345678"}))}}),[E]);var $e=function(e){var t=e.target,c=t.id,a=t.value,r=JSON.parse(JSON.stringify(k));r=Object(o.a)(Object(o.a)({},r),{},Object(s.a)({},c,a)),C(r)},Ke=function(e){var c=!0;if(1===e&&"testmode"!==k.remitente)for(var a={remitente:"\xbfQui\xe9n envia?",telefono_remitente:"Tel\xe9fono (Remitente)",correo_remitente:"Correo Electronico (Remitente)",municipio_remitente:"Municipio (Remitente)",direccion_remitente:"Direccion (Remitente)",destinatario:"Destinatario",name_destinatario:"\xbfQui\xe9n recibe?",telefono_destinatario:"Tel\xe9fono (Destinatario)",correo_destinatario:"Correo Electronico (Destinatario)",municipio_destinatario:"Municipio (Destinatario)",direccion_destinatario:"Direcci\xf3n (Destinatario)"},s=0,r=Object.entries(k);s<r.length;s++){var n=Object(l.a)(r[s],2),o=n[0],i=n[1];o in a&&0===i.length&&(t("El campo ".concat(a[o]," es requerido"),{appearance:"error",autoDismiss:!0,autoDismissTimeout:4e3}),c=!1);"correo_remitente"!==o&&"correo_destinatario"!==o||/^(([^<>()[\]\\.,;:\s@"]+(\.[^<>()[\]\\.,;:\s@"]+)*)|(".+"))@((\[[0-9]{1,3}\.[0-9]{1,3}\.[0-9]{1,3}\.[0-9]{1,3}\])|(([a-zA-Z\-0-9]+\.)+[a-zA-Z]{2,}))$/.test(String(i).toLowerCase())||(t("El ".concat(a[o]," no es valido"),{appearance:"error",autoDismiss:!0,autoDismissTimeout:4e3}),c=!1)}return"testmode"===k.remitente&&(c=!0),c};return E?Object(h.jsx)("div",{className:"creacion-pedido",children:0===r?Object(h.jsx)(N,{changeStep:j,data:k,handleChange:$e,user:E,checkNextStep:Ke,payment:le,setPayment:de,departamentos:Ae,municipios:Re,value_departamento:Me,value_municipio:Ze,setValueDepartamento:Ie,setValueMunicipio:We}):1===r?Object(h.jsx)(_,{changeStep:j,addToast:t,rows_data:x,setRowsData:p,cod:M,cupon:R,seguro:A,setValorDeclarado:ce,setCod:I,setCupon:P,setSeguro:q,setCobro:ne,cotizar:Ue,setCostoDeEnvio:W,tipos_de_transporte:ke,costo_de_envio:Z,setCostoDeEnvioTextCotiza:K,consto_de_envio_text_cotiza:$}):2===r?Object(h.jsx)(y,{changeStep:j,data:k,rows_data:x,handleChange:$e,user:E,checkNextStep:Ke,cobro:re,setCobro:ne,cupon:R,seguro:A,createOrder:Ye,setFiles:Te,costo_de_envio:Z,consto_de_envio_text_cotiza:$}):Object(h.jsx)(w,{changeStep:j,data:k,rows_data:x,handleChange:$e,user:E,checkNextStep:Ke,pedido:ue,pedido_id:xe,files:Ee})}):null}}}]);
//# sourceMappingURL=31.c2ad5eb2.chunk.js.map