(this["webpackJsonp@coreui/coreui-free-react-admin-template"]=this["webpackJsonp@coreui/coreui-free-react-admin-template"]||[]).push([[15],{1061:function(e,n,t){"use strict";t.r(n);var a=t(1),c=t.n(a),r=t(84),s=t(28),o=t(66),i=c.a.lazy((function(){return Promise.all([t.e(10),t.e(31)]).then(t.bind(null,1068))})),l=[{path:"/",exact:!0,name:"Home"},{path:"/cuenta/perfil",name:"Cuenta",component:c.a.lazy((function(){return t.e(16).then(t.bind(null,1056))}))},{path:"/cuenta/password",name:"Contrase\xf1a",component:c.a.lazy((function(){return t.e(25).then(t.bind(null,1057))}))},{path:"/cuenta/recibos",name:"Recibos",component:c.a.lazy((function(){return t.e(26).then(t.bind(null,1058))}))},{path:"/creacion-pedido",name:"Creacion de Pedido",component:i},{path:"/mis-envios",name:"Mis Envios",component:c.a.lazy((function(){return Promise.all([t.e(4),t.e(9),t.e(28)]).then(t.bind(null,1063))}))},{path:"/planes-disponibles",name:"Planes Disponibles",component:c.a.lazy((function(){return Promise.all([t.e(0),t.e(1),t.e(3),t.e(20)]).then(t.bind(null,1051))}))},{path:"/coberturas",name:"Coberturas",component:c.a.lazy((function(){return t.e(27).then(t.bind(null,1059))}))},{path:"/recomendaciones",name:"Recomendaciones",component:c.a.lazy((function(){return t.e(29).then(t.bind(null,1060))}))},{path:"/cross-selling",name:"Cross Selling",component:c.a.lazy((function(){return Promise.all([t.e(0),t.e(5),t.e(4),t.e(11),t.e(24)]).then(t.bind(null,1069))}))}],u=t(14),d=Object(u.jsx)("div",{className:"pt-3 text-center",children:Object(u.jsx)("div",{className:"sk-spinner sk-spinner-pulse"})}),m=function(){return Object(u.jsx)("main",{className:"c-main",children:Object(u.jsx)(o.l,{fluid:!0,children:Object(u.jsx)(a.Suspense,{fallback:d,children:Object(u.jsxs)(s.d,{children:[l.map((function(e,n){return e.component&&Object(u.jsx)(s.b,{path:e.path,exact:e.exact,name:e.name,render:function(n){return Object(u.jsx)(o.s,{children:Object(u.jsx)(e.component,Object(r.a)({},n))})}},n)})),Object(u.jsx)(s.a,{from:"/",to:"/dashboard"})]})})})})},b=c.a.memo(m),p=function(){return Object(u.jsx)(o.t,{className:"footer-conecta",fixed:!1})},j=c.a.memo(p),h=t(218),f=t(59),v=function(){var e=Object(h.b)(),n=Object(h.c)((function(e){return e.sidebarShow}));return Object(u.jsxs)(o.w,{withSubheader:!0,children:[Object(u.jsx)(o.ab,{inHeader:!0,className:"ml-md-3 d-lg-none",onClick:function(){var t=!![!1,"responsive"].includes(n)||"responsive";e({type:"set",sidebarShow:t})}}),Object(u.jsx)(o.ab,{inHeader:!0,className:"ml-3 d-md-down-none",onClick:function(){var t=![!0,"responsive"].includes(n)&&"responsive";e({type:"set",sidebarShow:t})}}),Object(u.jsx)(o.x,{className:"mx-auto d-lg-none",to:"/creacion-pedido"}),Object(u.jsx)(o.y,{className:"d-md-down-none mr-auto",children:Object(u.jsx)(o.z,{className:"px-3"})}),Object(u.jsx)(o.y,{className:"px-2",children:Object(u.jsx)(y,{})})]})},O=t(711),x=t.n(O),g=t(712),S=t(702),N=t(710),w=t(734),C=t(188),y=function(){var e=Object(a.useState)({}),n=Object(S.a)(e,2),t=n[0],c=n[1],i=Object(a.useState)(!1),l=Object(S.a)(i,2),d=l[0],m=l[1],b=Object(s.g)(),p=Object(C.useToasts)().addToast;return Object(a.useEffect)(Object(g.a)(x.a.mark((function e(){var n,t;return x.a.wrap((function(e){for(;;)switch(e.prev=e.next){case 0:if(n=N.reactLocalStorage.getObject("user"),console.log(n),"undefined"!==n&&void 0!==n&&null!==n&&0!==Object.keys(n).length){e.next=8;break}c({}),b.push("/login"),p("Sesi\xf3n terminada",{appearance:"error",autoDismiss:!0,autoDismissTimeout:3e3}),e.next=18;break;case 8:if("name"in n){e.next=17;break}return console.log(n),e.next=12,Object(w.a)(n.token);case 12:t=e.sent,console.log(t),t.valid?(c(Object(r.a)(Object(r.a)({},n),{},{name:t.response.data.name})),N.reactLocalStorage.setObject("user",Object(r.a)(Object(r.a)({},n),{},{name:t.response.data.name})),console.log("data user",t)):(N.reactLocalStorage.remove("user"),c({}),p("Sesi\xf3n terminada",{appearance:"error",autoDismiss:!0,autoDismissTimeout:3e3}),b.push({pathname:"/login"})),e.next=18;break;case 17:c(Object(r.a)({},n));case 18:case"end":return e.stop()}}),e)}))),[]),Object(a.useEffect)((function(){"name"in t&&m(!0)}),[t]),d?Object(u.jsxs)(o.n,{inNav:!0,className:"c-header-nav-items mx-2",direction:"down",children:[Object(u.jsxs)(o.q,{className:"c-header-nav-link",caret:!1,children:[Object(u.jsx)("div",{className:"c-avatar",children:Object(u.jsx)(f.a,{name:"cil-user",customClasses:"user-icon-header"})}),Object(u.jsx)("div",{className:"username-conecta-header",children:t.name.substring(0,7)}),Object(u.jsx)(f.a,{style:{color:"#91b515 !important"},name:"cil-chevron-bottom",customClasses:"drop-icon-header"})]}),Object(u.jsxs)(o.p,{className:"pt-0",placement:"bottom-end",children:[Object(u.jsx)(o.o,{header:!0,tag:"div",color:"light",className:"text-center",children:Object(u.jsx)("strong",{children:"Cuenta"})}),Object(u.jsxs)(o.o,{onClick:function(){b.push("/cuenta/perfil")},children:[Object(u.jsx)(f.a,{name:"cil-user",className:"mfe-2"}),"Perfil"]}),Object(u.jsxs)(o.o,{onClick:function(){b.push("/cuenta/password")},children:[Object(u.jsx)(f.a,{name:"cil-settings",className:"mfe-2"}),"Cambio de Contrase\xf1a"]}),Object(u.jsx)(o.o,{divider:!0}),Object(u.jsxs)(o.o,{onClick:function(){"token"in t&&(N.reactLocalStorage.remove("user"),b.push("/"))},children:[Object(u.jsx)(f.a,{name:"cil-lock-locked",className:"mfe-2"}),"Salir"]})]})]}):null},k=[{_tag:"CSidebarNavItem",name:"Nuevo Pedido",to:"/creacion-pedido",icon:"cil-list"},{_tag:"CSidebarNavItem",name:"Mis env\xedos",to:"/mis-envios",icon:"cil-envelope-closed"},{_tag:"CSidebarNavItem",name:"Planes disponibles",to:"/planes-disponibles",icon:"cil-paper-plane"},{_tag:"CSidebarNavItem",name:Object(u.jsxs)(u.Fragment,{children:["Cross Selling \xa0 ",Object(u.jsx)("span",{style:{backgroundColor:"#ffc600",fontWeight:"500",color:"black",paddingLeft:"3px",paddingRight:"3px"},children:" PREMIUM "})]}),to:"/cross-selling",icon:"cil-bell"},{_tag:"CSidebarNavDropdown",className:"c-sidebar-nav-arrow-dropdown",name:Object(u.jsxs)(u.Fragment,{children:["Cuenta ",Object(u.jsx)(f.a,{id:"icon-arrow",style:{color:"#91b515 !important"},name:"cil-chevron-bottom",customClasses:"c-sidebar-nav-icon"})]}),to:"/cuenta",icon:"cil-user",badge:{color:"info",text:"NEW"},_children:[{_tag:"CSidebarNavItem",name:"- Perfil",to:"/cuenta/perfil"},{_tag:"CSidebarNavItem",name:"- Cambio de contrase\xf1a",to:"/cuenta/password"}]}],P=function(){var e=Object(h.b)(),n=Object(h.c)((function(e){return e.sidebarShow}));return Object(u.jsxs)(o.Q,{show:n,onShowChange:function(n){return e({type:"set",sidebarShow:n})},children:[Object(u.jsxs)(o.R,{to:"/",style:{background:"white",padding:"2em"},children:[Object(u.jsx)("img",{src:"img/logo_conecta.png",alt:"",width:"175",className:"c-sidebar-brand-full",name:"logo-negative"}),Object(u.jsx)("img",{src:"img/logo_conecta.png",alt:"",width:"175",className:"c-sidebar-brand-minimized",name:"sygnet"})]}),Object(u.jsx)(o.S,{children:Object(u.jsx)(o.m,{items:k,components:{CSidebarNavDivider:o.T,CSidebarNavDropdown:o.U,CSidebarNavItem:o.V,CSidebarNavTitle:o.W}})})]})},z=c.a.memo(P);n.default=function(){return Object(u.jsxs)("div",{className:"c-app c-default-layout",children:[Object(u.jsx)(z,{}),Object(u.jsxs)("div",{className:"c-wrapper",children:[Object(u.jsx)(v,{}),Object(u.jsx)("div",{className:"c-body",children:Object(u.jsx)(b,{})}),Object(u.jsx)(j,{})]})]})}},710:function(e,n){n.reactLocalStorage={set:function(e,n){return localStorage[e]=n,localStorage[e]},get:function(e){var n=arguments.length>1&&void 0!==arguments[1]?arguments[1]:void 0,t=!(arguments.length>2&&void 0!==arguments[2])||arguments[2],a=localStorage[e]||n;if(!t&&!a)throw e+" not found in localStorage";return a},setObject:function(e,n){return localStorage[e]=JSON.stringify(n),localStorage[e]},getObject:function(e){var n=arguments.length>1&&void 0!==arguments[1]?arguments[1]:{},t=!(arguments.length>2&&void 0!==arguments[2])||arguments[2];value=this.get(e,JSON.stringify(n),t);try{return JSON.parse(value)}catch(a){if(!t)throw"Error in parsing value"}},clear:function(){return localStorage.clear()},remove:function(e){return localStorage.removeItem(e)}}},711:function(e,n,t){e.exports=t(424)},712:function(e,n,t){"use strict";function a(e,n,t,a,c,r,s){try{var o=e[r](s),i=o.value}catch(l){return void t(l)}o.done?n(i):Promise.resolve(i).then(a,c)}function c(e){return function(){var n=this,t=arguments;return new Promise((function(c,r){var s=e.apply(n,t);function o(e){a(s,c,r,o,i,"next",e)}function i(e){a(s,c,r,o,i,"throw",e)}o(void 0)}))}}t.d(n,"a",(function(){return c}))},734:function(e,n,t){"use strict";t.d(n,"a",(function(){return l})),t.d(n,"b",(function(){return u}));var a=t(711),c=t.n(a),r=t(712),s=t(706),o=t.n(s),i=t(736),l=function(){var e=Object(r.a)(c.a.mark((function e(n){var t,a,r;return c.a.wrap((function(e){for(;;)switch(e.prev=e.next){case 0:return t={headers:{Authorization:"Bearer "+n}},e.prev=2,e.next=5,o.a.get(i.base_url+"/auth/user",t);case 5:r=e.sent,a={valid:!0,response:r},e.next=12;break;case 9:e.prev=9,e.t0=e.catch(2),a={valid:!1,response:e.t0};case 12:return e.abrupt("return",a);case 13:case"end":return e.stop()}}),e,null,[[2,9]])})));return function(n){return e.apply(this,arguments)}}(),u=function(){var e=Object(r.a)(c.a.mark((function e(n){var t,a;return c.a.wrap((function(e){for(;;)switch(e.prev=e.next){case 0:return e.prev=0,e.next=3,o()({method:"post",url:"https://ws.conectaguate.com/api/auth/login",data:n});case 3:a=e.sent,t={valid:!0,response:a},e.next=10;break;case 7:e.prev=7,e.t0=e.catch(0),t={valid:!1,response:e.t0};case 10:return e.abrupt("return",t);case 11:case"end":return e.stop()}}),e,null,[[0,7]])})));return function(n){return e.apply(this,arguments)}}()},736:function(e){e.exports=JSON.parse('{"base_url":"https://ws.conectaguate.com/api"}')}}]);
//# sourceMappingURL=15.71341b91.chunk.js.map