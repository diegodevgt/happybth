(this["webpackJsonp@coreui/coreui-free-react-admin-template"]=this["webpackJsonp@coreui/coreui-free-react-admin-template"]||[]).push([[26],{1057:function(e,s,r){"use strict";r.r(s);var a=r(189),c=r(84),t=r(702),o=r(1),n=r(706),i=r.n(n),d=r(66),j=r(188),l=r(710),u=r(14);s.default=function(e){var s=Object(j.useToasts)().addToast,r=Object(o.useState)({current_password:"",new_password:"",new_confirm_password:""}),n=Object(t.a)(r,2),p=n[0],m=n[1],b=function(e){var s=e.target,r=s.id,t=s.value,o=JSON.parse(JSON.stringify(p)),n=Object(c.a)(Object(c.a)({},o),{},Object(a.a)({},r,t));m(n)};return Object(u.jsx)(u.Fragment,{children:Object(u.jsxs)("div",{className:"profile-container",children:[Object(u.jsx)(d.O,{children:Object(u.jsx)(d.j,{sm:"12",children:Object(u.jsx)("div",{className:"profile-title",children:Object(u.jsx)("h2",{children:"Cambio de contrase\xf1a"})})})}),Object(u.jsx)(d.O,{children:Object(u.jsx)(d.j,{sm:"12",children:Object(u.jsxs)(d.v,{children:[Object(u.jsx)(d.H,{htmlFor:"current_password",children:"Contrase\xf1a Actual"}),Object(u.jsx)(d.B,{onChange:b,value:p.current_password,id:"current_password",type:"password",placeholder:"",required:!0})]})})}),Object(u.jsx)(d.O,{children:Object(u.jsx)(d.j,{sm:"12",children:Object(u.jsxs)(d.v,{children:[Object(u.jsx)(d.H,{htmlFor:"new_password",children:"Nueva Contrase\xf1a"}),Object(u.jsx)(d.B,{onChange:b,value:p.new_password,id:"new_password",type:"password",placeholder:"",required:!0})]})})}),Object(u.jsx)(d.O,{children:Object(u.jsx)(d.j,{sm:"12",children:Object(u.jsxs)(d.v,{children:[Object(u.jsx)(d.H,{htmlFor:"new_confirm_password",children:"Confirmar Nueva Contrase\xf1a"}),Object(u.jsx)(d.B,{onChange:b,value:p.new_confirm_password,id:"new_confirm_password",type:"password",placeholder:"",required:!0})]})})}),Object(u.jsxs)(d.O,{children:[Object(u.jsx)(d.j,{sm:"6"}),Object(u.jsx)(d.j,{sm:"6",children:Object(u.jsxs)(d.O,{children:[Object(u.jsx)(d.j,{sm:"6",className:"mb-3 mb-xl-0",children:Object(u.jsx)(d.e,{name:"cancelar",block:!0,color:"secondary",children:"Cancelar"})}),Object(u.jsx)(d.j,{sm:"6",className:"mb-3 mb-xl-0",children:Object(u.jsx)(d.e,{onClick:function(){var e=l.reactLocalStorage.getObject("user");console.log("Bearer ".concat(e.token));for(var r=!1,a={current_password:"Contrase\xf1a Actual",new_password:"Nueva Contrase\xf1a",new_confirm_password:"Confirmar Nueva Contrase\xf1a"},c=0,o=Object.entries(p);c<o.length;c++){var n=Object(t.a)(o[c],2),d=n[0];0===n[1].length&&(s("El campo ".concat(a[d]," es requerido"),{appearance:"error",autoDismiss:!0,autoDismissTimeout:4e3}),r=!0)}p.new_password!==p.new_confirm_password&&(s("Las contrase\xf1as no coinciden",{appearance:"error",autoDismiss:!0,autoDismissTimeout:4e3}),r=!0),r||i()({method:"post",url:"https://ws.conectaguate.com/api/v1/site/usuario/resetpassword",data:p,headers:{Authorization:"Bearer ".concat(e.token),"Content-Type":"application/json"}}).then((function(e){console.log(e),s("Tu contrase\xf1a ha sido actualizada",{appearance:"success",autoDismiss:!0,autoDismissTimeout:4e3}),setTimeout((function(){m({current_password:"",new_password:"",new_confirm_password:""})}),1e3)}),(function(e){e.response&&(console.log(e.response),s("La contrase\xf1a debe contener 8 caracteres",{appearance:"error",autoDismiss:!0,autoDismissTimeout:4e3}),setTimeout((function(){m({current_password:"",new_password:"",new_confirm_password:""})}),1e3))}))},name:"guardar",block:!0,color:"info",children:"Actualizar"})})]})})]})]})})}}}]);
//# sourceMappingURL=26.6b6ea684.chunk.js.map