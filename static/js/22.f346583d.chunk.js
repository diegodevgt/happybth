(this["webpackJsonp@coreui/coreui-free-react-admin-template"]=this["webpackJsonp@coreui/coreui-free-react-admin-template"]||[]).push([[22],{1054:function(e,t,r){"use strict";r.r(t);var s=r(711),a=r.n(s),c=r(712),n=r(189),o=r(84),i=r(702),l=r(1),u=r(66),d=r(59),j=r(28),p=r(710),b=r(188),m=(r(706),r(734)),h=(r(826),r(737),r(14));t.default=function(){var e=Object(b.useToasts)().addToast,t=Object(j.g)(),r=Object(l.useState)({username:"",password:""}),s=Object(i.a)(r,2),O=s[0],x=s[1],g=Object(l.useState)(!1),f=Object(i.a)(g,2),v=f[0],w=f[1];Object(l.useEffect)((function(){var e=p.reactLocalStorage.getObject("user");Object.keys(e).length>0&&(console.log(e),"undefined"!==e&&void 0!==e&&null!==e&&(console.log("teeeeeeeeest"),e.token.length>0&&t.push("/creacion-pedido")))}),[]);var N=function(e){var t=e.target,r=t.id,s=t.value,a=JSON.parse(JSON.stringify(O)),c=Object(o.a)(Object(o.a)({},a),{},Object(n.a)({},r,s));console.log(c),x(c)},k=function(){var r=Object(c.a)(a.a.mark((function r(s){var c,n,o,l,u,d,j,b,h,g;return a.a.wrap((function(r){for(;;)switch(r.prev=r.next){case 0:for(s.preventDefault(),c=!1,n={username:"Correo Electr\xf3nico",password:"Contrase\xf1a"},o=0,l=Object.entries(O);o<l.length;o++)u=Object(i.a)(l[o],2),d=u[0],0===u[1].length&&(e("El campo ".concat(n[d]," es requerido"),{appearance:"error",autoDismiss:!0,autoDismissTimeout:4e3}),c=!0);if(/^(([^<>()[\]\\.,;:\s@"]+(\.[^<>()[\]\\.,;:\s@"]+)*)|(".+"))@((\[[0-9]{1,3}\.[0-9]{1,3}\.[0-9]{1,3}\.[0-9]{1,3}\])|(([a-zA-Z\-0-9]+\.)+[a-zA-Z]{2,}))$/.test(String(O.username).toLowerCase())||(e("El Correo Electr\xf3nico no es valido",{appearance:"error",autoDismiss:!0,autoDismissTimeout:4e3}),c=!0),!c){r.next=8;break}return r.abrupt("return",!1);case 8:return j={email:O.username,password:O.password,remember_me:!0},r.next=11,Object(m.b)(j);case 11:b=r.sent,console.log(b),b.valid&&!v?(w(!0),h=b.response,console.log(h),e("Login Exitoso",{appearance:"success",autoDismiss:!0,autoDismissTimeout:4e3}),p.reactLocalStorage.setObject("user",{email:O.username,token:h.data.access_token,plan:"pro"}),x({username:"",password:""}),t.push("/creacion-pedido")):(g=b.response).response&&(console.log(g.response),e("Usuario o Contrase\xf1a incorrectos",{appearance:"error",autoDismiss:!0,autoDismissTimeout:4e3}));case 14:case"end":return r.stop()}}),r)})));return function(e){return r.apply(this,arguments)}}();return Object(h.jsx)(u.l,{className:"login-container",children:Object(h.jsxs)(u.O,{className:"login-row",children:[Object(h.jsx)(u.j,{md:"6",className:"login-col",children:Object(h.jsx)(u.l,{children:Object(h.jsx)(u.O,{className:"align-items-center login-panel",children:Object(h.jsx)(u.h,{className:"login-left-panel",children:Object(h.jsx)(u.f,{className:"card-container",style:{border:"0px",background:"#ebedef"},children:Object(h.jsx)(u.g,{children:Object(h.jsxs)(u.u,{children:[Object(h.jsx)(u.A,{fluid:!0,src:"img/logo_conecta.png",className:"logo-img"}),Object(h.jsx)("p",{className:"text-center subtitle",children:"Iniciar Sesi\xf3n"}),Object(h.jsxs)(u.C,{className:"mb-3",children:[Object(h.jsx)(u.E,{children:Object(h.jsx)(u.F,{children:Object(h.jsx)(d.a,{name:"cil-envelope-closed"})})}),Object(h.jsx)(u.B,{type:"text",id:"username",onChange:N,value:O.username,placeholder:"Tu correo electr\xf3nico",autoComplete:"username",style:{background:"white",border:"0px"}})]}),Object(h.jsxs)(u.C,{className:"mb-1",children:[Object(h.jsx)(u.E,{children:Object(h.jsx)(u.F,{children:Object(h.jsx)(d.a,{name:"cil-lock-locked"})})}),Object(h.jsx)(u.B,{type:"password",id:"password",onChange:N,value:O.password,placeholder:"Tu contrase\xf1a",autoComplete:"current-password",style:{background:"white",border:"0px"}})]}),Object(h.jsx)(u.O,{children:Object(h.jsx)(u.j,{xs:"12",className:"text-left",children:Object(h.jsx)(u.e,{color:"link",children:"\xbfOlvidaste tu contrase\xf1a?"})})}),Object(h.jsx)(u.O,{children:Object(h.jsx)(u.j,{xs:"12",children:Object(h.jsx)(u.e,{color:"primary",className:"px-12",style:{width:"100%",background:"#7979e7"},onClick:k,children:"Continuar"})})}),Object(h.jsx)(u.O,{style:{width:"100%",borderBottom:"2px solid #153b75",marginBottom:"1rem",marginLeft:"auto",marginRight:"auto"},children:"\xa0"}),Object(h.jsx)(u.O,{children:Object(h.jsxs)(u.j,{xs:"12",className:"text-left",children:["\xbfNo tienes cuenta? ",Object(h.jsx)(u.e,{color:"link",style:{paddingLeft:"3px"},to:"/register",children:"Registrate"})]})})]})})})})})})}),Object(h.jsx)(u.j,{md:"6",className:"login-col-right",children:Object(h.jsx)(u.l,{children:Object(h.jsx)(u.O,{className:"align-items-center login-card-right",children:Object(h.jsx)(u.h,{className:"login-right-panel",children:Object(h.jsx)(u.f,{className:"p-4 card-container-right",style:{backgroundColor:"white"},children:Object(h.jsx)(u.O,{className:"image-card",children:Object(h.jsx)(u.A,{className:"img-card-info",src:"/img/hero/card-info.jpg"})})})})})})})]})})}},734:function(e,t,r){"use strict";r.d(t,"a",(function(){return l})),r.d(t,"b",(function(){return u}));var s=r(711),a=r.n(s),c=r(712),n=r(706),o=r.n(n),i=r(736),l=function(){var e=Object(c.a)(a.a.mark((function e(t){var r,s,c;return a.a.wrap((function(e){for(;;)switch(e.prev=e.next){case 0:return r={headers:{Authorization:"Bearer "+t}},e.prev=2,e.next=5,o.a.get(i.base_url+"/auth/user",r);case 5:c=e.sent,s={valid:!0,response:c},e.next=12;break;case 9:e.prev=9,e.t0=e.catch(2),s={valid:!1,response:e.t0};case 12:return e.abrupt("return",s);case 13:case"end":return e.stop()}}),e,null,[[2,9]])})));return function(t){return e.apply(this,arguments)}}(),u=function(){var e=Object(c.a)(a.a.mark((function e(t){var r,s;return a.a.wrap((function(e){for(;;)switch(e.prev=e.next){case 0:return e.prev=0,e.next=3,o()({method:"post",url:"https://ws.conectaguate.com/api/auth/login",data:t});case 3:s=e.sent,r={valid:!0,response:s},e.next=10;break;case 7:e.prev=7,e.t0=e.catch(0),r={valid:!1,response:e.t0};case 10:return e.abrupt("return",r);case 11:case"end":return e.stop()}}),e,null,[[0,7]])})));return function(t){return e.apply(this,arguments)}}()},736:function(e){e.exports=JSON.parse('{"base_url":"https://ws.conectaguate.com/api"}')}}]);
//# sourceMappingURL=22.f346583d.chunk.js.map